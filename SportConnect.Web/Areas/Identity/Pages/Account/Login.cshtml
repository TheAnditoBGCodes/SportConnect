@page
@model LoginModel

@{
    ViewData["Title"] = "Влез";
}

<style>
    /* Centering the validation summary */
    .text-danger {
        text-align: center;
        list-style-type: none; /* Removes the bullet points */
        padding-left: 0; /* Ensures there is no indentation */
    }

    /* Ensure modal content does not overflow */
    .modal-body {
        overflow: hidden; /* Hide any overflow */
    }

    /* Make sure the image scales to fit the container */
    #cropImage {
        width: 100%;
        height: 100%;
        object-fit: cover; /* Ensures image will cover the container without leaving black bars */
    }

    /* Hide any overflow if the crop container goes out of bounds */
    #cropContainer {
        width: 100%;
        height: 100%;
        overflow: hidden; /* Prevents overflow of cropped image */
    }

    /* Modal footer for buttons */
    .modal-footer {
        display: flex;
        justify-content: space-between; /* Align buttons to opposite sides */
    }

    .cropper-drag-box {
        opacity: 50%;
    }

    #previewImage {
        max-height: 29vh; /* Ensures the image won't overflow horizontally */
        height: auto; /* Maintains aspect ratio */
        display: block; /* Makes sure the image is block-level, so it doesn't cause any inline formatting issues */
        margin: 0 auto; /* Centers the image horizontally */
    }

    .container main {
        min-height: 83vh;
        padding-bottom: 0px !important;
    }

        .container main.pb-3 {
            align-content: center;
            padding-bottom: 0px !important;
        }
    /* Centering the validation summary */
    .validation-summary-errors {
        text-align: center;
        padding-left: 0; /* Remove indentation */
        margin-bottom: 0.5rem;
    }

        .validation-summary-errors ul {
            list-style: none; /* Removes bullet points */
            padding: 0; /* Removes default padding */
            margin: 0; /* Removes default margin */
        }

    #imagePreview {
        max-height: 29vh; /* Adjust the max width to whatever suits your design */
        overflow: hidden; /* Prevents any unwanted overflow */
        margin: 0 auto; /* Centers the image preview */
    }
</style>

<div class="container-fluid d-flex justify-content-center align-items-center" style="min-height: calc(100vh - 160px);">
    <div class="row justify-content-center w-100">
        <div class="col-12 col-md-8 col-lg-6">
            <form id="loginForm" method="post" class="p-3">
                <h2 class="text-center mb-2">@ViewData["Title"]</h2>
                <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>

                <!-- Row 1: Username or Email -->
                <div class="row mb-2">
                    <div class="col-12">
                        <div class="form-floating">
                            <input asp-for="Input.UserNameOrEmail" class="form-control form-control-sm" aria-required="true" placeholder="name@example.com / MyUserName" />
                            <label asp-for="Input.UserNameOrEmail">Потребителско име или имейл</label>
                            <span asp-validation-for="Input.UserNameOrEmail" class="text-danger"></span>
                        </div>
                    </div>
                </div>

                <!-- Row 2: Password -->
                <div class="row mb-2">
                    <div class="col-12">
                        <div class="form-floating">
                            <input asp-for="Input.Password" class="form-control form-control-sm" aria-required="true" placeholder="Парола" />
                            <label asp-for="Input.Password">Парола</label>
                            <span asp-validation-for="Input.Password" class="text-danger"></span>
                            <span class="text-danger">@ViewData["PasswordError"]</span>
                        </div>
                    </div>
                </div>

                <!-- Row 3: Remember Me (Centered) -->
                <div class="row mb-2 justify-content-center">
                    <div class="col-auto">
                        <div class="form-check d-flex align-items-center">
                            <input asp-for="Input.RememberMe" class="form-check-input" type="checkbox" />
                            <label asp-for="Input.RememberMe" class="form-check-label ms-2">Запомни ме</label>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <button id="loginSubmit" type="submit" class="w-100 btn btn-lg btn-primary">Влез</button>
                <!-- Register Link (Centered) -->
                <div class="text-center mt-2">
                    <a asp-page="./Register" class="text-decoration-none">Нямате акаунт? Регистрирайте се</a>
                </div>
            </form>
        </div>
    </div>
</div>
